@model ArticlesListAllModel
<div class="table-responsive">
    <table id="dataTable" class="table table-sm table-hover dataTable">
        <thead>
            <tr class="d-flex">
                @*<th class="col-2" id="sortableColumn">
                        Article Nr.
                        <button onclick="sortList()">Sort</button>
                    </th>*@
                <th class="col-2">
                    <a asp-action="@Model.PagingControllerActionCallName"
                       asp-route-itemsPerPage="@Model.ItemsPerPage"
                       asp-route-currentSortOrder="@Model.NumberSortParm"
                       asp-route-currentSearchInput="@Model.CurrentSearchInput">
                        <span class="text">Article Nr.</span>
                        <span class="icon text-gray-300">
                            <i class="fas fa-arrows-alt-v"></i>
                        </span>
                    </a>
                </th>
                <th class="col">
                    <a asp-action="@Model.PagingControllerActionCallName"
                       asp-route-itemsPerPage="@Model.ItemsPerPage"
                       asp-route-currentSortOrder="@Model.DescriptionSortParm"
                       asp-route-currentSearchInput="@Model.CurrentSearchInput">
                        <span class="text">Description</span>
                        <span class="icon text-gray-300">
                            <i class="fas fa-arrows-alt-v"></i>
                        </span>
                    </a>
                </th>
                <th class="col-1">
                    <a asp-action="@Model.PagingControllerActionCallName"
                       asp-route-itemsPerPage="@Model.ItemsPerPage"
                       asp-route-currentSortOrder="@Model.MainSupplierNumberSortParm"
                       asp-route-currentSearchInput="@Model.CurrentSearchInput">
                        <span class="text">MS Nr.</span>
                        <span class="icon text-gray-300">
                            <i class="fas fa-arrows-alt-v"></i>
                        </span>
                    </a>
                </th>
                <th class="col-2">
                    <a asp-action="@Model.PagingControllerActionCallName"
                       asp-route-itemsPerPage="@Model.ItemsPerPage"
                       asp-route-currentSortOrder="@Model.MainSupplierNameSortParm"
                       asp-route-currentSearchInput="@Model.CurrentSearchInput">
                        <span class="text">MS Name</span>
                        <span class="icon text-gray-300">
                            <i class="fas fa-arrows-alt-v"></i>
                        </span>
                    </a>
                </th>
                <th class="col-1">
                    <a asp-action="@Model.PagingControllerActionCallName"
                       asp-route-itemsPerPage="@Model.ItemsPerPage"
                       asp-route-currentSortOrder="@Model.AllSuppliersAllConfirmedSortParm"
                       asp-route-currentSearchInput="@Model.CurrentSearchInput">
                        <span class="text">Conf. AS</span>
                        <span class="icon text-gray-300">
                            <i class="fas fa-arrows-alt-v"></i>
                        </span>
                    </a>
                </th>
                <th class="col-1">
                    <a asp-action="@Model.PagingControllerActionCallName"
                       asp-route-itemsPerPage="@Model.ItemsPerPage"
                       asp-route-currentSortOrder="@Model.MainSupplierAllConfirmedSortParm"
                       asp-route-currentSearchInput="@Model.CurrentSearchInput">
                        <span class="text">Conf. MS</span>
                        <span class="icon text-gray-300">
                            <i class="fas fa-arrows-alt-v"></i>
                        </span>
                    </a>
                </th>
                <th class="col-1">Details</th>
                <th class="col-1">Edit</th>
                <th class="col-1">Delete</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var article in this.Model.Articles)
            {
                <tr class="d-flex" data-id="@article.Id" @if (article.IsConfirmed) { <text> style="background-color: #dcfddc;" </text> }>
                    <td id="search" class="col-2">@article.Number</td>
                    <td id="search" class="col">@article.Description</td>
                    <td class="col-1">@article.Suppliers.FirstOrDefault(s => s.IsMainSupplier == true)?.Number</td>
                    <td class="col-2">@article.Suppliers.FirstOrDefault(s => s.IsMainSupplier == true)?.Name</td>
                    <td class="col-1">@(article.IsConfirmed ? "Yes" : "No")</td>
                    <td class="col-1 isConfirmed">@(article.IsConfirmedByMainSupplier ? "Yes" : "No")</td>
                    <td class="col-1">
                        <a asp-action="Details" class="btn btn-sm btn-info" asp-route-id="@article.Id">
                            <span class="icon text-white">
                                <i class="fas fa-info-circle"></i>
                            </span>
                            <span class="text">Details</span>
                        </a>
                    </td>
                    <td class="col-1">
                        @if (User.Identity.IsAuthenticated)
                        {
                            <a asp-action="Edit" class="btn btn-sm btn-primary" asp-route-id="@article.Id">
                                <span class="icon text-white">
                                    <i class="fas fa-edit"></i>
                                </span>
                                <span class="text">Edit</span>
                            </a>
                        }
                        else
                        {
                            <a class="btn btn-sm btn-secondary" asp-area="Identity" asp-page="/Account/Login">
                                <span class="icon text-white">
                                    <i class="fas fa-sign-in-alt"></i>
                                </span>
                                <span class="text">Login</span>
                            </a>
                        }
                    </td>

                    <td class="col-1">
                        @if (User.Identity.IsAuthenticated)
                        {
                            <a asp-action="Delete" class="btn btn-sm btn-danger" asp-route-id="@article.Id">
                                <span class="icon text-white-50">
                                    <i class="fas fa-trash"></i>
                                </span>
                                <span class="text">Delete</span>
                            </a>
                        }
                        else
                        {
                            <a class="btn btn-sm btn-secondary" asp-area="Identity" asp-page="/Account/Login">
                                <span class="icon text-white">
                                    <i class="fas fa-sign-in-alt"></i>
                                </span>
                                <span class="text">Login</span>
                            </a>
                        }
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>
